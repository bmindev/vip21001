{% comment %}
  This template will be automatically generated for you if the file doesn't exist,
  but where's the fun in having no control? Define your layout below.

  The 'layout settings.customer_layout' line is inserted at the top of every customer account template.
  Your theme's settings determine to use the 'default' or 'theme' customer templates.
  More info:
    - http://www.tetchi.ca/shopify-theme-from-scratch-part-11/

  Template note:
    - All IDs on this template are required to make the form(s) submit properly
    - There are two instances of inline JS below. Best practices advise separating this
      into an external JS file
    - There are separate 'add new' and 'edit' address forms
{% endcomment %}

{% layout settings.customer_layout %}

<div class="account-page addresses-page custom-acc-page">
  <div class="modal-overlay" id="addr_modal" style="display: none;"></div>
  <div class="container">
     <div class="row pt-5 mt-4 px-5 justify-content-between no-gutters">
        <div class="col-2">
          <ul class="dashboard-sidebar nav nav-pills flex-column" id="myTab" role="tablist">
            <li class="nav-item">
              <a class="nav-link" href="/account"{% if settings.enable_multilang %} data-translate="customer.account.return"{% endif %} >MY ORDERS</a>
            </li>
             <li class="nav-item">
              <a class="nav-link" href=" {{ routes.root_url }}apps/order-tracking">MY ORDER TRACKING</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="{{ routes.account_addresses_url }}">ACCOUNT DETAILS</a>
            </li>

            <li class="nav-item">
              <a class="nav-link"  href="{{ routes.account_logout_url }}">LOGOUT</a>
            </li>
          </ul>
        </div>
        <div class="col-9">
          <div class="row">
            <div class="col-10">
            
             <header class="page-header">
                <h1 class="address-heading mb-4" {% if settings.enable_multilang %}data-translate="customer.account.title"{% endif %}>
                  Account Information <a href="" class="link-blue text-underline">Edit</a>
                </h1>
              </header>
              <div class="row customer-info">
                <div class="col-6">
                  	<div class="form-group">
                      <label for="">EMAIL ID</label>
                      <input disabled type="text" id="" class="address_form"  value="{{ customer.email }}" autocapitalize="words">
              		</div>
                  
                </div>
                <div class="col-6">
                  <div class="form-group">
                    <label for="">PASSWORD</label>
                    <input disabled type="password" value="FakePSW" >
                  </div>
                  <a class="d-block text-right link-blue text-underline change-password" href="#remodal_forgot_password">Change Password</a>
                 
                </div>

              </div>
              
            </div>

         

          <div class="col-10">
			<div class="add-edit-addr address-modal" id="add_address" style="display: none;">
              {% form 'customer_address', customer.new_address %}
              <h4 class="box-title"{% if settings.enable_multilang %} data-translate="customer.addresses.add_new"{% endif %}>
                {{ 'customer.addresses.add_new' | t }}
              </h4>
              <div class="row customer-info">
                <div class="form-group col-6">
                  <label for="address_first_name_new" {% if settings.enable_multilang %}data-translate="customer.addresses.first_name"{% endif %}>
                    {{ 'customer.addresses.first_name' | t }}
                  </label>
                  <input type="text" id="address_first_name_new" class="address_form" name="address[first_name]" value="{{form.first_name}}" autocapitalize="words">
                </div>

                <div class="form-group col-6">
                  <label for="address_last_name_new" {% if settings.enable_multilang %}data-translate="customer.addresses.last_name"{% endif %}>
                    {{ 'customer.addresses.last_name' | t }}
                  </label>
                  <input type="text" id="address_last_name_new" class="address_form" name="address[last_name]" value="{{form.last_name}}" autocapitalize="words">
                </div>
              </div>
              <div class="row customer-info">
                <div class="form-group col-6">
                  <label for="address_company_new" {% if settings.enable_multilang %}data-translate="customer.addresses.company"{% endif %}>
                    {{ 'customer.addresses.company' | t }}
                  </label>
                  <input type="text" id="address_company_new" class="address_form" name="address[company]" value="{{form.company}}" autocapitalize="words">
                </div>
                <div class="form-group col-6">
                  <label for="address_phone_new" {% if settings.enable_multilang %}data-translate="customer.addresses.phone"{% endif %}>
                    {{ 'customer.addresses.phone' | t }}
                  </label>
                  <input type="tel" id="address_phone_new" class="address_form" name="address[phone]" value="{{form.phone}}" placeholder="555-555-1234">
                </div>

                <div class="form-group col-12">
                  <label for="address_address1_new" {% if settings.enable_multilang %}data-translate="customer.addresses.address1"{% endif %}>
                    {{ 'customer.addresses.address1' | t }}
                  </label>
                  <input type="text" id="address_address1_new" class="address_form" name="address[address1]" value="{{form.address1}}" autocapitalize="words">
                </div>
			  </div>
              <div class="row customer-info">
                <div class="form-group col-12">
                  <label for="address_address2_new" {% if settings.enable_multilang %}data-translate="customer.addresses.address2"{% endif %}>
                    {{ 'customer.addresses.address2' | t }}
                  </label>
                  <input type="text" id="address_address2_new" class="address_form" name="address[address2]" value="{{form.address2}}" autocapitalize="words">
                </div>
              </div>
              <div class="row customer-info">
                <div class="form-group col-6">
                  <label for="address_city_new" {% if settings.enable_multilang %}data-translate="customer.addresses.city"{% endif %}>
                    {{ 'customer.addresses.city' | t }}
                  </label>
                  <input type="text" id="address_city_new" class="address_form" name="address[city]" value="{{form.city}}" autocapitalize="words">
                </div>

                <div class="form-group col-6" style="position: relative;">
                  <label for="address_country_new" {% if settings.enable_multilang %}data-translate="customer.addresses.country"{% endif %}>
                    {{ 'customer.addresses.country' | t }}
                  </label>
                  <select id="address_country_new" name="address[country]" data-default="{{form.country}}">{{ country_option_tags }}</select>
                  <span class="icon-dropdown">
                    <i class="fa fa-angle-down"></i>
                  </span>
                </div>
              </div>
              <div class="row customer-info">
                <div id="address_province_container_new" class="form-group col-6" style="position: relative;">
                  <label for="address_province_new" {% if settings.enable_multilang %}data-translate="customer.addresses.province"{% endif %}>
                    {{ 'customer.addresses.province' | t }}
                  </label>
                  <select id="address_province_new" class="address_form" name="address[province]" data-default="{{form.province}}"></select>
                  <span class="icon-dropdown">
                    <i class="fa fa-angle-down"></i>
                  </span>
                </div>

                <div class="form-group col-6">
                  <label for="address_zip_new" {% if settings.enable_multilang %}data-translate="customer.addresses.zip"{% endif %}>
                    {{ 'customer.addresses.zip' | t }}
                  </label>
                  <input type="text" id="address_zip_new" class="address_form" name="address[zip]" value="{{form.zip}}" autocapitalize="characters">
                </div>
              </div>
            

              <div class="form-group">
                {{ form.set_as_default_checkbox }}
                <label style="display: inline-block;" for="address_default_address_new" class="inline" {% if settings.enable_multilang %}data-translate="customer.addresses.set_default"{% endif %}>
                  {{ 'customer.addresses.set_default' | t }}
                </label>
              </div>

              <div class="action-btn">
                <input type="submit" class="btn btn-padd42" {% if settings.enable_multilang %}data-translate="customer.addresses.add"{% endif %} value="{{ 'customer.addresses.add' | t }}">
                <a style="display: inline-block; padding: 8px 0 6px 10px; margin-bottom: 25px; vertical-align: middle;" href="#" onclick="Shopify.CustomerAddress.toggleNewForm(); return false;" {% if settings.enable_multilang %}data-translate="customer.addresses.cancel"{% endif %}>
                  {{ 'customer.addresses.cancel' | t }}
                </a>
              </div>
              {% endform %}
            </div>
          </div>

          <div class="col-10 d-flex flex-wrap align-items-start">

     
            {% for address in customer.addresses %}
            
			
            
 			{% if forloop.first == true %}
            	<div  class="add-edit-addr mt-4 latest-address w-100" >
                
                  <header class="page-header">
                    <h1 class="address-heading mb-4" {% if settings.enable_multilang %}data-translate="customer.account.title"{% endif %}>
                      Address <div class="d-inline pl-3 address-links">{{ 'customer.addresses.edit' | t | edit_customer_address_link: address.id }} <span class="">|</span>  {{ 'customer.addresses.delete' | t | delete_customer_address_link: address.id }}</div>
                    </h1>
                  </header>
                  <div class="row customer-info mb-3">
                      <div class="col-6">
                        <div class="form-group">
                          <label  for="">FIRST NAME </label>
                          <input disabled type="text" id="" class="address_form" name="address[first_name]" value="{{ address.first_name }}" autocapitalize="words">
                        </div>
                      </div>
                      <div class="col-6">
                        <div class="form-group">
                          <label for="">LAST NAME </label>
                          <input disabled type="text" id="" class="address_form" name="address[last_name]" value="{{ address.last_name }}" autocapitalize="words">
                        </div>
                      </div>
                  </div>  

                  <div class="row customer-info mb-3">
                      <div class="col-6">
                        <div class="form-group">
                          <label for="">MOBILE </label>
                          <input disabled type="text" id="" class="address_form" name="address[phone]" value="{{ address.phone }}" autocapitalize="words">
                        </div>
                      </div>

                  </div>
                   <div class="row customer-info mb-3">
                      <div class="col-12">
                        <div class="form-group">
                          <label for="">ADDRESS 1 </label>
                          <input disabled type="text" id="" class="address_form" name="address[address1]" value="{{ address.address1 }}" autocapitalize="words">
                        </div>
                      </div>
                  </div>
                  <div class="row customer-info mb-3">
                      <div class="col-12">
                        <div class="form-group">
                          <label for="">ADDRESS 2 </label>
                          <input disabled type="text" id="" class="address_form" name="address[address2]" value="{{ address.address2 }}" autocapitalize="words">
                        </div>
                      </div>
                  </div> 
                  <div class="row customer-info mb-3">
                      <div class="col-6">
                        <div class="form-group">
                          <label for="">CITY</label>
                          <input disabled type="text" id="" class="address_form" name="address[city]" value="{{ address.city }}" autocapitalize="words">
                        </div>
                      </div>
                      <div class="col-6">
                        <div class="form-group">
                          <label for="">PINCODE</label>
                          <input disabled type="text" id="" class="address_form" name="address[zip]" value="{{ address.zip }}" autocapitalize="words">
                        </div>
                      </div>
                  </div>  
                   <div class="row customer-info mb-3">
                    <div class="col-6">
                      <div class="form-group">
                         <label>STATE</label>
                         <input disabled type="text" id="" class="address_form" name="address[province]" value="{{ address.province }}" autocapitalize="words">
                      </div>
                    </div>
                   	<div class="col-6">
                      <div class="form-group">
                       <label>COUNTRY</label>
                        <input disabled type="text" id="" class="address_form" name="address[country]" value="{{ address.country }}" autocapitalize="words">
                      </div>
                    </div>
                </div> 

            	</div>


            
           		<header class="page-header mt-5 border-top-grey pt-4 w-100">
                    <h1 class="address-heading mb-4">
                     Address Book 
                    </h1>
                  </header>
             {% else %}
            

            <div class="card mt-2 d-inline-flex mr-4  other-addreses ">
            	<div >
                  <div class="addr mb-0">
                    <div class="card-header d-flex justify-content-between">
                    	<span class="cus-addr">
                      		{{ address.name | capitalize }}
                    	</span>
                        {% if address == customer.default_address %}
                          <span {% if settings.enable_multilang %}data-translate="customer.addresses.default"{% endif %}>
                            ({{ 'customer.addresses.default' | t }})
                          </span>
          				{% endif %}
                    </div>
              		<div class="card-body">
<!--                       <span class="cus-addr mb-2">
                        Company: {{ address.company }}
                      </span> -->
                      <span class="cus-addr mb-2">
                        Street: {{ address.street }}
                      </span>
                      <span class="cus-addr mb-2">
                        City: {{ address.city | capitalize }}
                      </span>
                      {% if address.province_code %}
                      <span class="cus-addr mb-2">
                        State: {{ address.province | capitalize }}
                      </span>
                      {% endif %}
                      <span class="cus-addr mb-2">
                        Pincode: {{ address.zip | upcase }}
                      </span>
                      <span class="cus-addr mb-2">
                        Country: {{ address.country }}
                      </span>
                      <span class="cus-addr mb-2">
                        Phone: {{ address.phone }}
                      </span>
                    </div>
                  </div>

                  <div class="card-footer pt-3 action-btn btn-edit-delete d-flex justify-content-center">
                    {{ 'customer.addresses.edit' | t | edit_customer_address_link: address.id }}
                    {{ 'customer.addresses.delete' | t | delete_customer_address_link: address.id }}
                  </div>
              	</div>
           
              
            
            </div>
            
            {% endif %}
<div class="add-edit-addr address-modal" id="edit_address_{{address.id}}" style="display: none;">
             
              {% form 'customer_address', address %}
              <h4 class="box-title" {% if settings.enable_multilang %}data-translate="customer.addresses.edit_address"{% endif %}>
                {{ 'customer.addresses.edit_address' | t }}
              </h4>
              <div class="row customer-info">

                <div class="form-group col-6">
                  <label for="address_first_name_{{form.id}}" {% if settings.enable_multilang %}data-translate="customer.addresses.first_name"{% endif %}>{{ 'customer.addresses.first_name' | t }}</label>
                  <input type="text" id="address_first_name_{{form.id}}" class="address_form" name="address[first_name]" value="{{form.first_name}}" autocapitalize="words">
                </div>

                <div class="form-group col-6">
                  <label for="address_last_name_{{form.id}}" {% if settings.enable_multilang %}data-translate="customer.addresses.last_name"{% endif %}>{{ 'customer.addresses.last_name' | t }}</label>
                  <input type="text" id="address_last_name_{{form.id}}" class="address_form" name="address[last_name]" value="{{form.last_name}}" autocapitalize="words">
                </div>

              </div>
              <div class="row customer-info">
                <div class="form-group col-6">
                  <label for="address_company_{{form.id}}" {% if settings.enable_multilang %}data-translate="customer.addresses.company"{% endif %}>
                    {{ 'customer.addresses.company' | t }}
                  </label>
                  <input type="text" id="address_company_{{form.id}}" class="address_form" name="address[company]" value="{{form.company}}" autocapitalize="words">
                </div>

                <div class="form-group col-6">
                  <label for="address_phone_{{form.id}}" {% if settings.enable_multilang %}data-translate="customer.addresses.phone"{% endif %}>
                    {{ 'customer.addresses.phone' | t }}
                  </label>
                  <input type="tel" id="address_phone_{{form.id}}" class="address_form" name="address[phone]" value="{{form.phone}}" placeholder="555-555-1234">
                </div>
                <div class="form-group col-12">
                  <label for="address_address1_{{form.id}}" {% if settings.enable_multilang %}data-translate="customer.addresses.address1"{% endif %}>
                    {{ 'customer.addresses.address1' | t }}
                  </label>
                  <input type="text" id="address_address1_{{form.id}}" class="address_form" name="address[address1]" value="{{form.address1}}" autocapitalize="words">
                </div>
              </div> 
              <div class="row customer-info">
                <div class="form-group col-12">
                  <label for="address_address2_{{form.id}}" {% if settings.enable_multilang %}data-translate="customer.addresses.address2"{% endif %}>
                    {{ 'customer.addresses.address2' | t }}
                  </label>
                  <input type="text" id="address_address2_{{form.id}}" class="address_form" name="address[address2]" value="{{form.address2}}" autocapitalize="words">
                </div>
              </div>
              <div class="row customer-info">
                <div class="form-group col-6">
                  <label for="address_city_{{form.id}}" {% if settings.enable_multilang %}data-translate="customer.addresses.city"{% endif %}>
                    {{ 'customer.addresses.city' | t }}
                  </label>
                  <input type="text" id="address_city_{{form.id}}" class="address_form" name="address[city]" value="{{form.city}}" autocapitalize="words">
                </div>

                <div class="form-group col-6" style="position: relative;">
                  <label for="address_country_{{form.id}}" {% if settings.enable_multilang %}data-translate="customer.addresses.country"{% endif %}>{{ 'customer.addresses.country' | t }}</label>
                  <select id="address_country_{{form.id}}" name="address[country]" data-default="{{form.country}}">{{ country_option_tags }}</select>
                  <span class="icon-dropdown">
                    <i class="fa fa-angle-down"></i>
                  </span>
                </div>
              </div>
              <div class="row customer-info">
                <div class="form-group col-6" id="address_province_container_{{form.id}}" style="position: relative;">
                  <label for="address_province_{{form.id}}" {% if settings.enable_multilang %}data-translate="customer.addresses.province"{% endif %}>{{ 'customer.addresses.province' | t }}</label>
                  <select id="address_province_{{form.id}}" class="address_form" name="address[province]" data-default="{{form.province}}"></select>
                  <span class="icon-dropdown">
                    <i class="fa fa-angle-down"></i>
                  </span>
                </div>

                <div class="form-group col-6">
                  <label for="address_zip_{{form.id}}" {% if settings.enable_multilang %}data-translate="customer.addresses.zip"{% endif %}>
                    {{ 'customer.addresses.zip' | t }}
                  </label>
                  <input type="text" id="address_zip_{{form.id}}" class="address_form" name="address[zip]" value="{{form.zip}}" autocapitalize="characters">
                </div>
              </div>



              <div class="form-group">
                {{ form.set_as_default_checkbox }}
                <label style="display: inline-block;" for="address_default_address_{{form.id}}" class="inline" {% if settings.enable_multilang %}data-translate="customer.addresses.set_default"{% endif %}>
                  {{ 'customer.addresses.set_default' | t }}
                </label>
              </div>

              <div class="action-btn"> 
                <input type="submit" class="btn" {% if settings.enable_multilang %}data-translate="customer.addresses.update"{% endif %} value="{{ 'customer.addresses.update' | t }}">
                <a style="display: inline-block; padding: 8px 0 6px 10px; margin-bottom: 25px; vertical-align: middle;" href="#" onclick="Shopify.CustomerAddress.toggleForm({{form.id}}); return false;" {% if settings.enable_multilang %}data-translate="customer.addresses.cancel"{% endif %}>
                  {{ 'customer.addresses.cancel' | t }}
                </a>
              </div>

              {% endform %}
            </div>

            {% endfor %}
            <div class="card mt-2 d-inline-flex add-address-btn-container  border-0 {{ address.count > 1 ? ' text-center  ': ''  }} mt-1  justify-content-center">
              <div class="action-btn pt-0"> 
                
                <a href="#" class="btn btn-padd42 add-address-btn " onclick="Shopify.CustomerAddress.toggleNewForm(); return false;" {% if settings.enable_multilang %}data-translate="customer.addresses.add_new"{% endif %}>
                  +{{ 'customer.addresses.add_new' | t }}
                </a>
              </div>
            </div>
           
          </div>

            {% if settings.enable_multilang %}
            <script>
              $(".button").find("a:eq(0)").attr("data-translate","customer.addresses.edit");
              $(".button").find("a:eq(1)").attr("data-translate","customer.addresses.delete");
            </script>
            {% endif %}

          </div> 
      
            
            </div>
          </div>
       
       </div>
    </div>
  </div>
</div>


<script>
  // Initialize observers on address selectors

  
  

  // Setup province selector on each customer address
  {% for address in customer.addresses %}
    new Shopify.CountryProvinceSelector('address_country_{{address.id}}', 'address_province_{{address.id}}', {
      hideElement: 'address_province_container_{{address.id}}'}
    );
  {% endfor %}
  
  new Shopify.CountryProvinceSelector('address_country_new', 'address_province_new', {
    hideElement: 'address_province_container_new'
  });

  // Contents of customer_area.js (global asset)
  Shopify.CustomerAddress = {
    toggleForm: function(id) {
      
      var modalOverlay = document.getElementById('addr_modal');
      
      var editEl = document.getElementById('edit_address_'+id);
//       var viewEl = document.getElementById('view_address_'+id);
      
      editEl.style.display = editEl.style.display == 'none' ? '' : 'none';
//       viewEl.style.display = viewEl.style.display == 'none' ? '' : 'none';
      topFunction();
      modalOverlay.style.display = modalOverlay.style.display == 'none' ? '' : 'none';
      
      return false;
    },

    toggleNewForm: function() {
      var el = document.getElementById('add_address');
       var modalOverlay = document.getElementById('addr_modal');
      
      el.style.display = el.style.display == 'none' ? '' : 'none';
      modalOverlay.style.display = modalOverlay.style.display == 'none' ? '' : 'none';
      topFunction();
      return false;
    },

    destroy: function(id, confirm_msg) {
      var msg = "{{ 'customer.addresses.delete_message' | t}}";
      {% if settings.enable_multilang %}
      if (translator.isLang2())
        var msg = lang2.customer.addresses.delete_message;      
      {% endif %}
      if (confirm(msg)) {
        Shopify.postLink('/account/addresses/'+id, {'parameters': {'_method': 'delete'}});
      }
    }
  }
  
  function topFunction() {
    document.body.scrollTop = 300; // For Safari
    document.documentElement.scrollTop = 300; // For Chrome, Firefox, IE and Opera
  }
</script>